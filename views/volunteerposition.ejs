<!DOCTYPE html>


<html lang="en">
 
<head>
    <%- include partials/head.ejs %>
</head>

<body>

<header>
    <%- include partials/header.ejs %>
    <h1>Volunteer Positions</h1>
</header>

<section>
<nav>
    <%- include partials/navMenu.ejs %>
</nav>

<article>
    <h2>Open Job List</h2>
	<%- include partials/partialDisplayPositionList.ejs %>


    <body class = "text-center" style="border: 1px solid #000000;"></body>

    <form class = "EditProfile" action="/volunteerpositions" method="post" id = "frmEditProfile">
        
		<table class = "EditProfileHeader">
            <tr>
                <th class = "EditProfileLabel">Position Name:</th>
                <th>
                    <input class = "EditProfileInput" 
                        name="positionName"
                        type="text" >
                        
                </th>
            </tr>
            <tr>
                <th class = "EditProfileLabel">Role Description:</th>
                <th>
                    <input class = "EditProfileInput" 
                        name="roleDescription"
                        type="text" >          
                </th>
            </tr>
			<tr>
                <th class = "EditProfileLabel">Required Trainings:</th>
			</tr>
			<tr>
				<td><ul>
                    <% for(var i = 0; i < trainings.length; i++) { %>
							<p class="EditProfileLabel"><%= trainings[i] %>
                            <input type="checkbox" 
                                name= "<%='training:' +  trainings[i] %>" 
                                id="<%=trainings[i]%>" 
                                data-id="<%=trainings[i]%>" 
                                value="<%=trainings[i]%>" 
                                onchange="if(this.checked == true) addTraining(); else if(this.checked == false) removeTraining();" />
							</p>
					<%}%>
					</ul>
                </td>
				
            </tr>
            <tr>
                <th class = "EditProfileLabel">Date in Year-Month-Day :</th>
                <th>
                    <input class = "EditProfileInput" 
                        name="date"
                        type="text" >          
                </th>
            </tr>
            <tr>
                <th class = "EditProfileLabel">Start Time in hh:mm :</th>
                <th>
                    <input class = "EditProfileInput" 
                        name="startTime"
                        type="text" >          
                </th>
            </tr>
            <tr>
                <th class = "EditProfileLabel">End Time in hh:mm :</th>
                <th>
                    <input class = "EditProfileInput" 
                        name="endTime"
                        type="text" >          
                </th>
            </tr>
            
        </table>      
    </form>
    
    <button class = "EditProfileBtn" onclick = "submitChanges()" >ADD</button>
    
</article>
</section>

<footer>
    <%- include partials/footer.ejs %>
</footer>

</body>

<script>
    function submitChanges(){
        console.log("about to post");
        document.getElementById("frmEditProfile").submit();
        console.log("done with post");
    }
</script>
<script>
    function addTraining(){
		var ul = document.getElementById("dynamic-list");
		var training = document.getElementById("training");
		var li = document.createElement("li");
		li.setAttribute('id', training);
		ul.appendChild(li);	
    }
</script>
<script>
function removeTraining(){
    var ul = document.getElementById("dynamic-list");
    var training = document.getElementById("training");
    var item = document.getElementById(training);
    ul.removeChild(item);
}
</script>

</html>


